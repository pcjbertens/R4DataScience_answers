---
title: "Chapter 1"
author: "Paul Bertens"
date: "29-1-2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
```
# Introduction
## 1
Run ggplot(data = mpg). What do you see?
```{r}
ggplot(data = mpg)
```

## 2 How may rows are in mtcars? How many columns?
```{r}
sprintf("Number of rows: %s, number of columns: %s", nrow(mtcars), ncol(mtcars))
```

## 3 What does the drv-variable describe?
drv: he type of drive train, where f = front-wheel drive, r = rear wheel drive, 4 = 4wd

## 4 Make a scatterplot of hwy versus cyl
```{r}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = hwy, y = cyl))
```

## 5
What happens if you make a scatterplot of class versus drv? Why is the plot not useful?
```{r}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = class, y = drv))
```
The plot is not useful because it's a scatter of two categorical-variables data.

# Aesthetic Mappings
## 1
What's gone wrong with the code? Why are the points not blue?
```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy, color = "blue")
  )
```
answer
```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy), color = "blue"
  )
```
## 2
Which variables in mpg are categorical? Which variables are continuous (hint: type ?mpg to read documentation for the dataset)? How can you see this information when you run mpg?
```{r}
str(mpg)
```
The character-variables and displ are categorical, hwy, cty are continuous.

## 3
Map a continuous variable to color, size and shape. How do thes aesthetics behave differently for categorical versus continuous variables.
```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy, color = cty)) +
  ggtitle(label = "Mapping categorical variable on aesthetic 'color'")
```

```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy, size = cty)) +
  ggtitle(label = "Mapping categorical variable on aesthetic 'size'")
```

```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy, shape = cty)) +
  ggtitle(label = "Mapping categorical variable on aesthetic 'shape'")
```
Continuous variables can not be mapped to a shape
```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy, color = manufacturer)) +
  ggtitle(label = "Mapping continuous variable on aesthetic 'color'")
```
```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy, size = manufacturer)) +
  ggtitle(label = "Mapping continuous variable on aesthetic 'size'")
```
```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy, shape = manufacturer)) +
  ggtitle(label = "Mapping continuous variable on aesthetic 'shape'")
```

## 4
What happens if you map the same variable to multiple aesthetics?
```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy, color = cty, size = cty)
  )
```
You get multiple legends

## 5 
What does the stroke aesthetic do? What shapes does it work with?
```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy, shape = factor(year), stroke = 1)
  )
```
With stroke you can change the size of the shape.

## 6
What happens if you map an aesthetic to something other than a variable name, like aes(color = displ < 5)?
```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy, color = displ < 5)
  )
```
It returns in a logical output (TRUE when displ < 5 and FALSE when displ > 5)

# Common Problems
## 1
What happens if you facet on a continuous variable?
```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = displ, y = hwy)) +
  facet_grid(rows = "cty")
```
Every value gives a facet.

## 2
What do empty cells in a plot with facet_grid(drv ~ cyl) mean? How do they relate to this plot?
```{r}
ggplot(data = mpg) +
  geom_point(
    mapping = aes(x = drv, y = cyl)) +
  facet_grid(drv ~ cyl)
```
Empty cells in a facet_grid means that ther are no values in that facet. eg. there are no values in drv = r and cyl = 4

## What plots does the following code make? what does . do?
```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_grid(drv ~.)
```
It facets only in rows on variable drv (facet_grid(rows = "drv") gives the same result)

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_grid(. ~ cyl)
```

It facets only in columns on variable cyl.

## 4
Take the first faceted plot in this section:
```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_wrap(~ class, nrow = 2)
```
What are the advantages to using faceting instead of the color aesthetic? What are the disadvantages? How might the balance change if you had a larger dataset?
Advantages using facets:
- It is easier to compare the different types within a variable
- Single plot per variable
- You can compare different variables

Disadvantages using facets:
- You get a lot of single plots when there are a lot of different types within a variable

## 5
Read ?facet_wrap. What does nrow do? What does ncol do? What other options control the layout of the individual panels? Why doesn't facet_grid have nrow and ncol variables?

With nrow and ncol you can set the number of rows and columns within the facet_wrap.
Other options to control the layout of individual panels:
- scales

## 6
When using facet_grid() you should usually put the variable with more unique levels in the colymns. Why?
```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_grid(manufacturer ~ cyl)
```
```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_grid(cyl ~ manufacturer)
```
The readability of plots is better.

# Geometric Objects
## 1
What geom would you use to draw a:
line chart --> geom_line()
boxplot --> geom_boxplot()
histogram --> geom_histogram()
area chart --> geom_area()

## 2
Run this code in your head and predict what the output will look like. Then run the code in R and check your predictions:
```{r}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy, col = drv)
 ) +
  geom_point() +
  geom_smooth(se = FALSE)
```

## 3
What does show.legend = FALSE do? What happens if you remove it? Why do you think it is used earlier in the chapter?
```{r}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy, color = drv)
 ) +
  geom_point() +
  geom_smooth(se = FALSE, show.legend = FALSE)
```
It removes the smoothline from the legend.
Earlier in the chapter the legend of the smoothline was removed. Main reason was that the colormapping was only used in geom_points and geom_smooth was used on all the data.

## 4
What does the se argument to geom_smooth() do?
```{r}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy)
 ) +
  geom_point(mapping = aes(color = drv)) +
  geom_smooth(se = FALSE, show.legend = FALSE) +
  ggtitle(label = "geom_smooth whit se = FALSE")
```
```{r}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy)
 ) +
  geom_point(mapping = aes(color = drv)) +
  geom_smooth(se = TRUE, show.legend = FALSE) +
  ggtitle(label = "geom_smooth whit se = TRUE")
```

## 5
Will these two graphs look different? Why/Why not?
```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point() +
  geom_smooth()
```

```{r}
ggplot() +
  geom_point(data = mpg,
             mapping = aes(x = displ, y = hwy)) +
  geom_smooth(data = mpg,
              mapping = aes(x = displ, y = hwy))
```
There is no difference, because the data and mappings are in both situations the same. The second code is only usefull when the mappings (or the data) is different in geom_point() and geom_smooth().

## 6
Re-create the R code necessary to generate the graphs on page 21.
```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point() +
  geom_smooth(se = FALSE)
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point() +
  geom_smooth(se = FALSE, mapping = aes(group = drv))
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) +
  geom_point() +
  geom_smooth(se = FALSE)
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(mapping = aes(color = drv)) +
  geom_smooth(se = FALSE)
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(mapping = aes(color = drv)) +
  geom_smooth(se = FALSE, mapping = aes(linetype = drv))
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(mapping = aes(color = drv)) 
```





